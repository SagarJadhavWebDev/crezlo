'use client';
"use strict";var e=require("react/jsx-runtime"),t=require("react");require("clsx"),require("tailwind-merge");const n="production"===process.env.NODE_ENV?"https://":"http://",r=process.env.NEXT_PUBLIC_APP_DOMAIN,o=process.env.NEXT_PUBLIC_APP_URL_ACCOUNT||"accounts";process.env.NEXT_PUBLIC_APP_URL_FINANCE,process.env.NEXT_PUBLIC_APP_URL_VR,process.env.NEXT_PUBLIC_APP_URL_COMMUNITY,process.env.NEXT_PUBLIC_APP_URL_WEBSITE,process.env.NEXT_PUBLIC_APP_URL_GENAGENT;const s={APP_DOMAIN:"production"===process.env.NODE_ENV?r:"crezlo.local",APP_NAME:{ACCOUNT:o},APP_URL:{ACCOUNT:`${n}${o}.${r}`},SUBSCRIPTION_TYPE:process.env.NEXT_PUBLIC_SUBSCRIPTION_TYPE,BASE_API_URL:{CORE:process.env.NEXT_PUBLIC_API_URL_CORE,CONTENT:process.env.NEXT_PUBLIC_API_URL_CONTENT,CHAT:process.env.NEXT_PUBLIC_API_URL_CHAT,GENAGENT:process.env.NEXT_PUBLIC_API_GENAGENT_URL,WEBSITE_BUILDER:process.env.NEXT_PUBLIC_WEBSITE_BUILDER_URL,CHANNEL_BUILDER:process.env.NEXT_PUBLIC_CHANNEL_BUILDERL_URL,FINANCE:process.env.NEXT_PUBLIC_FINANCE_URL}};const a=new class{config;constructor(e={}){this.config={defaultPath:"/",defaultSecure:"undefined"!=typeof window&&"https:"===window.location.protocol,defaultDomain:`.${s.APP_DOMAIN}`,...e}}set(e,t,n={expires:1e3}){if("undefined"==typeof document)return console.warn("CookieManager: document is not available (SSR environment)"),!1;try{const r=this.config.prefix?`${this.config.prefix}${e}`:e;let o=`${encodeURIComponent(r)}=${encodeURIComponent(t)}`;if(n.expires)if("number"==typeof n.expires){const e=new Date;e.setTime(e.getTime()+24*n.expires*60*60*1e3),o+=`; expires=${e.toUTCString()}`}else o+=`; expires=${n.expires.toUTCString()}`;void 0!==n.maxAge&&(o+=`; max-age=${n.maxAge}`);const s=n.path??this.config.defaultPath;s&&(o+=`; path=${s}`);const a=n.domain??this.config.defaultDomain;a&&(o+=`; domain=${a}`);(n.secure??this.config.defaultSecure)&&(o+="; secure"),n.httpOnly&&console.warn("CookieManager: httpOnly flag cannot be set via JavaScript");const i=n.sameSite??this.config.defaultSameSite;return i&&(o+=`; samesite=${i}`),console.log("Setting cookie:",o),document.cookie=o,!0}catch(e){return console.error("CookieManager: Error setting cookie:",e),!1}}get(e){if("undefined"==typeof document)return null;try{const t=this.config.prefix?`${this.config.prefix}${e}`:e,n=encodeURIComponent(t),r=document.cookie.split(";");for(let e of r)if(e=e.trim(),e.startsWith(`${n}=`))return decodeURIComponent(e.substring(n.length+1));return null}catch(e){return console.error("CookieManager: Error getting cookie",e),null}}getJSON(e){const t=this.get(e);if(null===t)return null;try{return JSON.parse(t)}catch(e){return console.error("CookieManager: Error parsing JSON cookie",e),null}}setJSON(e,t,n={}){try{const r=JSON.stringify(t);return this.set(e,r,n)}catch(e){return console.error("CookieManager: Error stringifying JSON cookie",e),!1}}remove(e,t={}){return this.set(e,"",{...t,expires:new Date(0),maxAge:0})}has(e){return null!==this.get(e)}getAll(){if("undefined"==typeof document)return{};try{const e={},t=document.cookie.split(";");for(let n of t){n=n.trim();const[t,...r]=n.split("=");if(t&&r.length>0){const n=decodeURIComponent(t),o=decodeURIComponent(r.join("="));e[this.config.prefix&&n.startsWith(this.config.prefix)?n.substring(this.config.prefix.length):n]=o}}return e}catch(e){return console.error("CookieManager: Error getting all cookies",e),{}}}clear(e={}){const t=this.getAll();Object.keys(t).forEach(t=>{this.remove(t,e)})}getSize(e){const t=this.get(e);return null===t?0:new Blob([t]).size}getTotalSize(){return"undefined"==typeof document?0:new Blob([document.cookie]).size}isEnabled(){if("undefined"==typeof document)return!1;try{const e="__cookie_test__";this.set(e,"test");const t=this.has(e);return this.remove(e),t}catch{return!1}}},i=e=>a.getJSON(e),c=e=>{var t,n;t="token",a.remove(t,n),e?.()},u={request:[],response:[],error:[]};class l{static instances=new Map;config;localInterceptors;constructor(e){this.config=e,this.localInterceptors={request:[],response:[],error:[]}}static getInstance(e){const t=e.baseURL;if(console.log("ApiClient getInstance",t),t)return l.instances.has(t)||l.instances.set(t,new l(e)),l.instances.get(t)}static addGlobalRequestInterceptor(e){u.request.push(e)}static addGlobalResponseInterceptor(e){u.response.push(e)}static addGlobalErrorInterceptor(e){u.error.push(e)}addRequestInterceptor(e){this.localInterceptors.request.push(e)}addResponseInterceptor(e){this.localInterceptors.response.push(e)}addErrorInterceptor(e){this.localInterceptors.error.push(e)}async applyInterceptors(e,t){const n=[...u[e],...this.localInterceptors[e]];let r=t;for(const e of n)r=await e(r);return r}buildURL(e,t){const n=new URL(e,this.config.baseURL);return t&&Object.entries(t).forEach(([e,t])=>{n.searchParams.append(e,String(t))}),n.toString()}async request(e,t={}){try{const n=await this.applyInterceptors("request",t),r=this.buildURL(e,n.params),o={"Content-Type":"application/json",Accept:"application/json",...this.config.headers,...n.headers},s={method:n.method||"GET",headers:o,credentials:n.withCredentials??this.config.withCredentials?"include":"same-origin"};n.body&&"GET"!==n.method&&(s.body="string"==typeof n.body?n.body:JSON.stringify(n.body));const a=n.timeout||this.config.timeout||1e4,i=new AbortController,c=setTimeout(()=>i.abort(),a);s.signal=i.signal;const u=await fetch(r,s);let l;clearTimeout(c);const d=u.headers.get("content-type");l=d&&d.includes("application/json")?await u.json():await u.text();const f=l;if(!u.ok||u.status<200||u.status>=300){const e=l;throw await this.applyInterceptors("error",e)}return await this.applyInterceptors("response",f)}catch(e){if(e instanceof Error){const t={message:e.message};throw await this.applyInterceptors("error",t)}throw e}}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,n){return this.request(e,{...n,method:"POST",body:t})}async put(e,t,n){return this.request(e,{...n,method:"PUT",body:t})}async patch(e,t,n){return this.request(e,{...n,method:"PATCH",body:t})}async delete(e,t){return this.request(e,{...t,method:"DELETE"})}}const d=s.BASE_API_URL;l.addGlobalRequestInterceptor(async e=>{const t=i("token");return t?.access_token&&(e.headers={...e.headers,Authorization:`Bearer ${t.access_token}`}),e}),l.addGlobalErrorInterceptor(async e=>(console.log("Error received:",e),e)),l.addGlobalResponseInterceptor(async e=>(console.log("Response received:",e.data),401===e.status&&console.error("Unauthorized access - redirecting to login"),e.data));const f={client:{addGlobalRequestInterceptor:l.addGlobalRequestInterceptor,addGlobalResponseInterceptor:l.addGlobalResponseInterceptor,addGlobalErrorInterceptor:l.addGlobalErrorInterceptor,getInstance:l.getInstance},...Object.fromEntries(Object.entries(d).map(([e,t])=>{return[e,(n=t,l.getInstance({baseURL:n}))];var n}))};var p={},h={},y={},g=Object.defineProperty,b=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,_={};((e,t)=>{for(var n in t)g(e,n,{get:t[n],enumerable:!0})})(_,{RequestCookies:()=>D,ResponseCookies:()=>C,parseCookie:()=>w,parseSetCookie:()=>S,stringifyCookie:()=>O});var R,v=(R=_,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of m(t))E.call(e,o)||o===n||g(e,o,{get:()=>t[o],enumerable:!(r=b(t,o))||r.enumerable});return e})(g({},"__esModule",{value:!0}),R));function O(e){var t;const n=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),r=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===n.length?r:`${r}; ${n.join("; ")}`}function w(e){const t=new Map;for(const n of e.split(/; */)){if(!n)continue;const e=n.indexOf("=");if(-1===e){t.set(n,"true");continue}const[r,o]=[n.slice(0,e),n.slice(e+1)];try{t.set(r,decodeURIComponent(null!=o?o:"true"))}catch{}}return t}function S(e){if(!e)return;const[[t,n],...r]=w(e),{domain:o,expires:s,httponly:a,maxage:i,path:c,samesite:u,secure:l,partitioned:d,priority:f}=Object.fromEntries(r.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));return function(e){const t={};for(const n in e)e[n]&&(t[n]=e[n]);return t}({name:t,value:decodeURIComponent(n),domain:o,...s&&{expires:new Date(s)},...a&&{httpOnly:!0},..."string"==typeof i&&{maxAge:Number(i)},path:c,...u&&{sameSite:k(u)},...l&&{secure:!0},...f&&{priority:T(f)},...d&&{partitioned:!0}})}var A=["strict","lax","none"];function k(e){return e=e.toLowerCase(),A.includes(e)?e:void 0}var P=["low","medium","high"];function T(e){return e=e.toLowerCase(),P.includes(e)?e:void 0}var D=class{constructor(e){this._parsed=new Map,this._headers=e;const t=e.get("cookie");if(t){const e=w(t);for(const[t,n]of e)this._parsed.set(t,{name:t,value:n})}}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){const t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;const n=Array.from(this._parsed);if(!e.length)return n.map(([e,t])=>t);const r="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return n.filter(([e])=>e===r).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){const[t,n]=1===e.length?[e[0].name,e[0].value]:e,r=this._parsed;return r.set(t,{name:t,value:n}),this._headers.set("cookie",Array.from(r).map(([e,t])=>O(t)).join("; ")),this}delete(e){const t=this._parsed,n=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>O(t)).join("; ")),n}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},C=class{constructor(e){var t,n,r;this._parsed=new Map,this._headers=e;const o=null!=(r=null!=(n=null==(t=e.getSetCookie)?void 0:t.call(e))?n:e.get("set-cookie"))?r:[],s=Array.isArray(o)?o:function(e){if(!e)return[];var t,n,r,o,s,a=[],i=0;function c(){for(;i<e.length&&/\s/.test(e.charAt(i));)i+=1;return i<e.length}function u(){return"="!==(n=e.charAt(i))&&";"!==n&&","!==n}for(;i<e.length;){for(t=i,s=!1;c();)if(","===(n=e.charAt(i))){for(r=i,i+=1,c(),o=i;i<e.length&&u();)i+=1;i<e.length&&"="===e.charAt(i)?(s=!0,i=o,a.push(e.substring(t,r)),t=i):i=r+1}else i+=1;(!s||i>=e.length)&&a.push(e.substring(t,e.length))}return a}(o);for(const e of s){const t=S(e);t&&this._parsed.set(t.name,t)}}get(...e){const t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;const n=Array.from(this._parsed.values());if(!e.length)return n;const r="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return n.filter(e=>e.name===r)}has(e){return this._parsed.has(e)}set(...e){const[t,n,r]=1===e.length?[e[0].name,e[0].value,e[0]]:e,o=this._parsed;return o.set(t,function(e={name:"",value:""}){"number"==typeof e.expires&&(e.expires=new Date(e.expires));e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge));null!==e.path&&void 0!==e.path||(e.path="/");return e}({name:t,value:n,...r})),function(e,t){t.delete("set-cookie");for(const[,n]of e){const e=O(n);t.append("set-cookie",e)}}(o,this._headers),this}delete(...e){const[t,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...n,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(O).join("; ")}};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{RequestCookies:function(){return t.RequestCookies},ResponseCookies:function(){return t.ResponseCookies},stringifyCookie:function(){return t.stringifyCookie}});const t=v}(y);var j={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ReflectAdapter",{enumerable:!0,get:function(){return t}});class t{static get(e,t,n){const r=Reflect.get(e,t,n);return"function"==typeof r?r.bind(e):r}static set(e,t,n,r){return Reflect.set(e,t,n,r)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}}(j);var x={},N={},I={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{bindSnapshot:function(){return s},createAsyncLocalStorage:function(){return o},createSnapshot:function(){return a}});const t=Object.defineProperty(new Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw t}getStore(){}run(){throw t}exit(){throw t}enterWith(){throw t}static bind(e){return e}}const r="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function o(){return r?new r:new n}function s(e){return r?r.bind(e):n.bind(e)}function a(){return r?r.snapshot():function(e,...t){return e(...t)}}}(I),function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"workAsyncStorageInstance",{enumerable:!0,get:function(){return t}});const t=(0,I.createAsyncLocalStorage)()}(N),function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"workAsyncStorage",{enumerable:!0,get:function(){return t.workAsyncStorageInstance}});const t=N}(x);var $={},U={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"workUnitAsyncStorageInstance",{enumerable:!0,get:function(){return t}});const t=(0,I.createAsyncLocalStorage)()}(U);var M={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ACTION_HEADER:function(){return r},FLIGHT_HEADERS:function(){return d},NEXT_DID_POSTPONE_HEADER:function(){return h},NEXT_HMR_REFRESH_HASH_COOKIE:function(){return c},NEXT_HMR_REFRESH_HEADER:function(){return i},NEXT_IS_PRERENDER_HEADER:function(){return b},NEXT_REWRITTEN_PATH_HEADER:function(){return y},NEXT_REWRITTEN_QUERY_HEADER:function(){return g},NEXT_ROUTER_PREFETCH_HEADER:function(){return s},NEXT_ROUTER_SEGMENT_PREFETCH_HEADER:function(){return a},NEXT_ROUTER_STALE_TIME_HEADER:function(){return p},NEXT_ROUTER_STATE_TREE_HEADER:function(){return o},NEXT_RSC_UNION_QUERY:function(){return f},NEXT_URL:function(){return u},RSC_CONTENT_TYPE_HEADER:function(){return l},RSC_HEADER:function(){return n}});const n="RSC",r="Next-Action",o="Next-Router-State-Tree",s="Next-Router-Prefetch",a="Next-Router-Segment-Prefetch",i="Next-HMR-Refresh",c="__next_hmr_refresh_hash__",u="Next-Url",l="text/x-component",d=[n,o,s,i,a],f="_rsc",p="x-nextjs-stale-time",h="x-nextjs-postponed",y="x-nextjs-rewritten-path",g="x-nextjs-rewritten-query",b="x-nextjs-prerender";("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(M,M.exports);var q=M.exports;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{getDraftModeProviderForCacheScope:function(){return c},getExpectedRequestStore:function(){return r},getHmrRefreshHash:function(){return i},getPrerenderResumeDataCache:function(){return s},getRenderResumeDataCache:function(){return a},throwForMissingRequestStore:function(){return o},workUnitAsyncStorage:function(){return t.workUnitAsyncStorageInstance}});const t=U,n=q;function r(e){const n=t.workUnitAsyncStorageInstance.getStore();switch(n||o(e),n.type){case"request":return n;case"prerender":case"prerender-ppr":case"prerender-legacy":throw Object.defineProperty(new Error(`\`${e}\` cannot be called inside a prerender. This is a bug in Next.js.`),"__NEXT_ERROR_CODE",{value:"E401",enumerable:!1,configurable:!0});case"cache":throw Object.defineProperty(new Error(`\`${e}\` cannot be called inside "use cache". Call it outside and pass an argument instead. Read more: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E37",enumerable:!1,configurable:!0});case"unstable-cache":throw Object.defineProperty(new Error(`\`${e}\` cannot be called inside unstable_cache. Call it outside and pass an argument instead. Read more: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E69",enumerable:!1,configurable:!0});default:return n}}function o(e){throw Object.defineProperty(new Error(`\`${e}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}function s(e){return"prerender"===e.type||"prerender-ppr"===e.type?e.prerenderResumeDataCache:null}function a(e){return"prerender-legacy"!==e.type&&"cache"!==e.type&&"unstable-cache"!==e.type?"request"===e.type?e.renderResumeDataCache:e.prerenderResumeDataCache:null}function i(e,t){var r;if(e.dev)return"cache"===t.type||"prerender"===t.type?t.hmrRefreshHash:"request"===t.type?null==(r=t.cookies.get(n.NEXT_HMR_REFRESH_HASH_COOKIE))?void 0:r.value:void 0}function c(e,t){if(e.isDraftMode)switch(t.type){case"cache":case"unstable-cache":case"request":return t.draftMode;default:return}}}($),function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{MutableRequestCookiesAdapter:function(){return l},ReadonlyRequestCookiesError:function(){return s},RequestCookiesAdapter:function(){return a},appendMutableCookies:function(){return u},areCookiesMutableInCurrentPhase:function(){return f},getModifiedCookieValues:function(){return c},responseCookiesToRequestCookies:function(){return h},wrapWithMutableAccessCheck:function(){return d}});const t=y,n=j,r=x,o=$;class s extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new s}}class a{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return s.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}}const i=Symbol.for("next.mutated.cookies");function c(e){const t=e[i];return t&&Array.isArray(t)&&0!==t.length?t:[]}function u(e,n){const r=c(n);if(0===r.length)return!1;const o=new t.ResponseCookies(e),s=o.getAll();for(const e of r)o.set(e);for(const e of s)o.set(e);return!0}class l{static wrap(e,o){const s=new t.ResponseCookies(new Headers);for(const t of e.getAll())s.set(t);let a=[];const c=new Set,u=()=>{const e=r.workAsyncStorage.getStore();e&&(e.pathWasRevalidated=!0);const n=s.getAll();if(a=n.filter(e=>c.has(e.name)),o){const e=[];for(const n of a){const r=new t.ResponseCookies(new Headers);r.set(n),e.push(r.toString())}o(e)}},l=new Proxy(s,{get(e,t,r){switch(t){case i:return a;case"delete":return function(...t){c.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),l}finally{u()}};case"set":return function(...t){c.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),l}finally{u()}};default:return n.ReflectAdapter.get(e,t,r)}}});return l}}function d(e){const t=new Proxy(e,{get(e,r,o){switch(r){case"delete":return function(...n){return p("cookies().delete"),e.delete(...n),t};case"set":return function(...n){return p("cookies().set"),e.set(...n),t};default:return n.ReflectAdapter.get(e,r,o)}}});return t}function f(e){return"action"===e.phase}function p(e){if(!f((0,o.getExpectedRequestStore)(e)))throw new s}function h(e){const n=new t.RequestCookies(new Headers);for(const t of e.getAll())n.set(t);return n}}(h);var L={},X={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{DynamicServerError:function(){return r},isDynamicServerError:function(){return o}});const n="DYNAMIC_SERVER_USAGE";class r extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=n}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===n}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(X,X.exports);var B=X.exports,H={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{StaticGenBailoutError:function(){return r},isStaticGenBailoutError:function(){return o}});const n="NEXT_STATIC_GEN_BAILOUT";class r extends Error{constructor(...e){super(...e),this.code=n}}function o(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===n}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(H,H.exports);var G=H.exports,W={};!function(e){function t(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===n}Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{isHangingPromiseRejectionError:function(){return t},makeHangingPromise:function(){return s}});const n="HANGING_PROMISE_REJECTION";class r extends Error{constructor(e){super(`During prerendering, ${e} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${e} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`),this.expression=e,this.digest=n}}const o=new WeakMap;function s(e,t){if(e.aborted)return Promise.reject(new r(t));{const n=new Promise((n,s)=>{const a=s.bind(null,new r(t));let i=o.get(e);if(i)i.push(a);else{const t=[a];o.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(a),n}}function a(){}}(W);var V={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{METADATA_BOUNDARY_NAME:function(){return t},OUTLET_BOUNDARY_NAME:function(){return r},VIEWPORT_BOUNDARY_NAME:function(){return n}});const t="__next_metadata_boundary__",n="__next_viewport_boundary__",r="__next_outlet_boundary__"}(V);var z={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{atLeastOneTask:function(){return r},scheduleImmediate:function(){return n},scheduleOnNextTick:function(){return t},waitAtLeastOneReactRenderTask:function(){return o}});const t=e=>{Promise.resolve().then(()=>{"edge"===process.env.NEXT_RUNTIME?setTimeout(e,0):process.nextTick(e)})},n=e=>{"edge"===process.env.NEXT_RUNTIME?setTimeout(e,0):setImmediate(e)};function r(){return new Promise(e=>n(e))}function o(){return"edge"===process.env.NEXT_RUNTIME?new Promise(e=>setTimeout(e,0)):new Promise(e=>setImmediate(e))}}(z),function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{Postpone:function(){return w},abortAndThrowOnSynchronousRequestDataAccess:function(){return v},abortOnSynchronousPlatformIOAccess:function(){return _},accessedDynamicData:function(){return j},annotateDynamicAccess:function(){return L},consumeDynamicAccess:function(){return N},createDynamicTrackingState:function(){return f},createDynamicValidationState:function(){return p},createHangingInputAbortSignal:function(){return q},createPostponedAbortSignal:function(){return M},formatDynamicAPIAccesses:function(){return I},getFirstDynamicReason:function(){return h},isDynamicPostpone:function(){return k},isPrerenderInterruptedError:function(){return C},markCurrentScopeAsDynamic:function(){return y},postponeWithTracking:function(){return S},throwIfDisallowedDynamic:function(){return Q},throwToInterruptStaticGeneration:function(){return b},trackAllowedDynamicAccess:function(){return K},trackDynamicDataInDynamicRender:function(){return m},trackFallbackParamAccessed:function(){return g},trackSynchronousPlatformIOAccessInDev:function(){return R},trackSynchronousRequestDataAccessInDev:function(){return O},useDynamicRouteParams:function(){return X}});const n=l(t),r=B,o=G,s=$,a=x,i=W,c=V,u=z;function l(e){return e&&e.__esModule?e:{default:e}}const d="function"==typeof n.default.unstable_postpone;function f(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicExpression:void 0,syncDynamicErrorWithStack:null}}function p(){return{hasSuspendedDynamic:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasSyncDynamicErrors:!1,dynamicErrors:[]}}function h(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function y(e,t,n){if((!t||"cache"!==t.type&&"unstable-cache"!==t.type)&&!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${n}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)if("prerender-ppr"===t.type)S(e.route,n,t.dynamicTracking);else{if("prerender-legacy"===t.type){t.revalidate=0;const o=Object.defineProperty(new r.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${n}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=n,e.dynamicUsageStack=o.stack,o}"development"===process.env.NODE_ENV&&t&&"request"===t.type&&(t.usedDynamic=!0)}}}function g(e,t){const n=s.workUnitAsyncStorage.getStore();n&&"prerender-ppr"===n.type&&S(e.route,t,n.dynamicTracking)}function b(e,t,n){const o=Object.defineProperty(new r.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw n.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=o.stack,o}function m(e,t){if(t){if("cache"===t.type||"unstable-cache"===t.type)return;"prerender"!==t.type&&"prerender-legacy"!==t.type||(t.revalidate=0),"development"===process.env.NODE_ENV&&"request"===t.type&&(t.usedDynamic=!0)}}function E(e,t,n){const r=D(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);n.controller.abort(r);const o=n.dynamicTracking;o&&o.dynamicAccesses.push({stack:o.isDebugDynamicAccesses?(new Error).stack:void 0,expression:t})}function _(e,t,n,r){const o=r.dynamicTracking;o&&null===o.syncDynamicErrorWithStack&&(o.syncDynamicExpression=t,o.syncDynamicErrorWithStack=n),E(e,t,r)}function R(e){e.prerenderPhase=!1}function v(e,t,n,r){if(!1===r.controller.signal.aborted){const o=r.dynamicTracking;o&&null===o.syncDynamicErrorWithStack&&(o.syncDynamicExpression=t,o.syncDynamicErrorWithStack=n,!0===r.validating&&(o.syncDynamicLogged=!0)),E(e,t,r)}throw D(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}const O=R;function w({reason:e,route:t}){const n=s.workUnitAsyncStorage.getStore();S(t,e,n&&"prerender-ppr"===n.type?n.dynamicTracking:null)}function S(e,t,r){U(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?(new Error).stack:void 0,expression:t}),n.default.unstable_postpone(A(e,t))}function A(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function k(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&P(e.message)}function P(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===P(A("%%%","^^^")))throw Object.defineProperty(new Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});const T="NEXT_PRERENDER_INTERRUPTED";function D(e){const t=Object.defineProperty(new Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=T,t}function C(e){return"object"==typeof e&&null!==e&&e.digest===T&&"name"in e&&"message"in e&&e instanceof Error}function j(e){return e.length>0}function N(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function I(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>`Dynamic API Usage Debug - ${e}:\n${t=t.split("\n").slice(4).filter(e=>!e.includes("node_modules/next/")&&(!e.includes(" (<anonymous>)")&&!e.includes(" (node:"))).join("\n")}`)}function U(){if(!d)throw Object.defineProperty(new Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})}function M(e){U();const t=new AbortController;try{n.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}function q(e){const t=new AbortController;return e.cacheSignal?e.cacheSignal.inputReady().then(()=>{t.abort()}):(0,u.scheduleOnNextTick)(()=>t.abort()),t.signal}function L(e,t){const n=t.dynamicTracking;n&&n.dynamicAccesses.push({stack:n.isDebugDynamicAccesses?(new Error).stack:void 0,expression:e})}function X(e){const t=a.workAsyncStorage.getStore();if(t&&t.isStaticGeneration&&t.fallbackRouteParams&&t.fallbackRouteParams.size>0){const r=s.workUnitAsyncStorage.getStore();r&&("prerender"===r.type?n.default.use((0,i.makeHangingPromise)(r.renderSignal,e)):"prerender-ppr"===r.type?S(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&b(e,t,r))}}const H=/\n\s+at Suspense \(<anonymous>\)/,F=new RegExp(`\\n\\s+at ${c.METADATA_BOUNDARY_NAME}[\\n\\s]`),Y=new RegExp(`\\n\\s+at ${c.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),J=new RegExp(`\\n\\s+at ${c.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function K(e,t,n,r,o){if(!J.test(t))if(F.test(t))n.hasDynamicMetadata=!0;else if(Y.test(t))n.hasDynamicViewport=!0;else if(H.test(t))n.hasSuspendedDynamic=!0;else{if(!r.syncDynamicErrorWithStack&&!o.syncDynamicErrorWithStack){const r=function(e,t){const n=Object.defineProperty(new Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n.stack="Error: "+e+t,n}(`Route "${e}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`,t);return void n.dynamicErrors.push(r)}n.hasSyncDynamicErrors=!0}}function Q(e,t,n,r){let s,a,i;if(n.syncDynamicErrorWithStack?(s=n.syncDynamicErrorWithStack,a=n.syncDynamicExpression,i=!0===n.syncDynamicLogged):r.syncDynamicErrorWithStack?(s=r.syncDynamicErrorWithStack,a=r.syncDynamicExpression,i=!0===r.syncDynamicLogged):(s=null,a=void 0,i=!1),t.hasSyncDynamicErrors&&s)throw i||console.error(s),new o.StaticGenBailoutError;const c=t.dynamicErrors;if(c.length){for(let e=0;e<c.length;e++)console.error(c[e]);throw new o.StaticGenBailoutError}if(!t.hasSuspendedDynamic){if(t.hasDynamicMetadata){if(s)throw console.error(s),Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that could not finish rendering before ${a} was used. Follow the instructions in the error for this expression to resolve.`),"__NEXT_ERROR_CODE",{value:"E608",enumerable:!1,configurable:!0});throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateMetadata\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`),"__NEXT_ERROR_CODE",{value:"E534",enumerable:!1,configurable:!0})}if(t.hasDynamicViewport){if(s)throw console.error(s),Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that could not finish rendering before ${a} was used. Follow the instructions in the error for this expression to resolve.`),"__NEXT_ERROR_CODE",{value:"E573",enumerable:!1,configurable:!0});throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateViewport\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`),"__NEXT_ERROR_CODE",{value:"E590",enumerable:!1,configurable:!0})}}}}(L);var F={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return u}});const n=o(t);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function o(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=s?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}const s={current:null},a="function"==typeof n.cache?n.cache:e=>e,i=process.env.__NEXT_DYNAMIC_IO?console.error:console.warn,c=a(e=>{try{i(s.current)}finally{s.current=null}});function u(e){return function(...t){const n=e(...t);if("production"!==process.env.NODE_ENV){var r;const e=null==(r=(new Error).stack)?void 0:r.split("\n");if(void 0===e||e.length<4)i(n);else{const t=e[4];s.current=n,c(t)}}else i(n)}}}(F);var Y={},J={},K={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"afterTaskAsyncStorageInstance",{enumerable:!0,get:function(){return t}});const t=(0,I.createAsyncLocalStorage)()}(K),function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"afterTaskAsyncStorage",{enumerable:!0,get:function(){return t.afterTaskAsyncStorageInstance}});const t=K}(J),function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{isRequestAPICallableInsideAfter:function(){return a},throwForSearchParamsAccessInUseCache:function(){return s},throwWithStaticGenerationBailoutError:function(){return r},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return o}});const t=G,n=J;function r(e,n){throw Object.defineProperty(new t.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${n}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E576",enumerable:!1,configurable:!0})}function o(e,n){throw Object.defineProperty(new t.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${n}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function s(e){const t=Object.defineProperty(new Error(`Route ${e.route} used "searchParams" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "searchParams" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E634",enumerable:!1,configurable:!0});throw e.invalidUsageError??=t,t}function a(){const e=n.afterTaskAsyncStorage.getStore();return"action"===(null==e?void 0:e.rootTaskSpawnPhase)}}(Y),function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"cookies",{enumerable:!0,get:function(){return d}});const t=h,n=y,r=x,o=$,s=L,a=G,i=W,c=F,u=z,l=Y;function d(){const e="cookies",c=r.workAsyncStorage.getStore(),d=o.workUnitAsyncStorage.getStore();if(c){if(d&&"after"===d.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(new Error(`Route ${c.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(c.forceStatic){return p(t.RequestCookiesAdapter.seal(new n.RequestCookies(new Headers({}))))}if(d){if("cache"===d.type)throw Object.defineProperty(new Error(`Route ${c.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});if("unstable-cache"===d.type)throw Object.defineProperty(new Error(`Route ${c.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0})}if(c.dynamicShouldError)throw Object.defineProperty(new a.StaticGenBailoutError(`Route ${c.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(d){if("prerender"===d.type)return function(e,t){const n=f.get(t);if(n)return n;const r=(0,i.makeHangingPromise)(t.renderSignal,"`cookies()`");return f.set(t,r),Object.defineProperties(r,{[Symbol.iterator]:{value:function(){const n="`cookies()[Symbol.iterator]()`",r=E(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},size:{get(){const n="`cookies().size`",r=E(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},get:{value:function(){let n;n=0===arguments.length?"`cookies().get()`":`\`cookies().get(${g(arguments[0])})\``;const r=E(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},getAll:{value:function(){let n;n=0===arguments.length?"`cookies().getAll()`":`\`cookies().getAll(${g(arguments[0])})\``;const r=E(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},has:{value:function(){let n;n=0===arguments.length?"`cookies().has()`":`\`cookies().has(${g(arguments[0])})\``;const r=E(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},set:{value:function(){let n;if(0===arguments.length)n="`cookies().set()`";else{const e=arguments[0];n=e?`\`cookies().set(${g(e)}, ...)\``:"`cookies().set(...)`"}const r=E(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},delete:{value:function(){let n;n=0===arguments.length?"`cookies().delete()`":1===arguments.length?`\`cookies().delete(${g(arguments[0])})\``:`\`cookies().delete(${g(arguments[0])}, ...)\``;const r=E(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},clear:{value:function(){const n="`cookies().clear()`",r=E(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},toString:{value:function(){const n="`cookies().toString()`",r=E(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}}}),r}(c.route,d);"prerender-ppr"===d.type?(0,s.postponeWithTracking)(c.route,e,d.dynamicTracking):"prerender-legacy"===d.type&&(0,s.throwToInterruptStaticGeneration)(e,c,d)}(0,s.trackDynamicDataInDynamicRender)(c,d)}const h=(0,o.getExpectedRequestStore)(e);let y;return y=(0,t.areCookiesMutableInCurrentPhase)(h)?h.userspaceMutableCookies:h.cookies,"development"!==process.env.NODE_ENV||(null==c?void 0:c.isPrefetchRequest)?p(y):function(e,t){const n=f.get(e);if(n)return n;const r=new Promise(t=>(0,u.scheduleImmediate)(()=>t(e)));return f.set(e,r),Object.defineProperties(r,{[Symbol.iterator]:{value:function(){return b(t,"`...cookies()` or similar iteration"),e[Symbol.iterator]?e[Symbol.iterator].apply(e,arguments):_.call(e)},writable:!1},size:{get:()=>(b(t,"`cookies().size`"),e.size)},get:{value:function(){let n;return n=0===arguments.length?"`cookies().get()`":`\`cookies().get(${g(arguments[0])})\``,b(t,n),e.get.apply(e,arguments)},writable:!1},getAll:{value:function(){let n;return n=0===arguments.length?"`cookies().getAll()`":`\`cookies().getAll(${g(arguments[0])})\``,b(t,n),e.getAll.apply(e,arguments)},writable:!1},has:{value:function(){let n;return n=0===arguments.length?"`cookies().has()`":`\`cookies().has(${g(arguments[0])})\``,b(t,n),e.has.apply(e,arguments)},writable:!1},set:{value:function(){let n;if(0===arguments.length)n="`cookies().set()`";else{const e=arguments[0];n=e?`\`cookies().set(${g(e)}, ...)\``:"`cookies().set(...)`"}return b(t,n),e.set.apply(e,arguments)},writable:!1},delete:{value:function(){let n;return n=0===arguments.length?"`cookies().delete()`":1===arguments.length?`\`cookies().delete(${g(arguments[0])})\``:`\`cookies().delete(${g(arguments[0])}, ...)\``,b(t,n),e.delete.apply(e,arguments)},writable:!1},clear:{value:function(){return b(t,"`cookies().clear()`"),"function"==typeof e.clear?e.clear.apply(e,arguments):R.call(e,r)},writable:!1},toString:{value:function(){return b(t,"`cookies().toString()` or implicit casting"),e.toString.apply(e,arguments)},writable:!1}}),r}(y,null==c?void 0:c.route)}const f=new WeakMap;function p(e){const t=f.get(e);if(t)return t;const n=Promise.resolve(e);return f.set(e,n),Object.defineProperties(n,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):_.bind(e)},size:{get:()=>e.size},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:"function"==typeof e.clear?e.clear.bind(e):R.bind(e,n)},toString:{value:e.toString.bind(e)}}),n}function g(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name?`'${e.name}'`:"string"==typeof e?`'${e}'`:"..."}function b(e,t){const n=o.workUnitAsyncStorage.getStore();if(n&&"request"===n.type&&!0===n.prerenderPhase){const e=n;(0,s.trackSynchronousRequestDataAccessInDev)(e)}m(e,t)}const m=(0,c.createDedupedByCallsiteServerErrorLoggerDev)(E);function E(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})}function _(){return this.getAll().map(e=>[e.name,e]).values()}function R(e){for(const e of this.getAll())this.delete(e.name);return e}}(p);var Q={},Z={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{HeadersAdapter:function(){return r},ReadonlyHeadersError:function(){return n}});const t=j;class n extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new n}}class r extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(n,r,o){if("symbol"==typeof r)return t.ReflectAdapter.get(n,r,o);const s=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===s);return void 0!==a?t.ReflectAdapter.get(n,a,o):void 0},set(n,r,o,s){if("symbol"==typeof r)return t.ReflectAdapter.set(n,r,o,s);const a=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===a);return t.ReflectAdapter.set(n,i??r,o,s)},has(n,r){if("symbol"==typeof r)return t.ReflectAdapter.has(n,r);const o=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===o);return void 0!==s&&t.ReflectAdapter.has(n,s)},deleteProperty(n,r){if("symbol"==typeof r)return t.ReflectAdapter.deleteProperty(n,r);const o=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===o);return void 0===s||t.ReflectAdapter.deleteProperty(n,s)}})}static seal(e){return new Proxy(e,{get(e,r,o){switch(r){case"append":case"delete":case"set":return n.callable;default:return t.ReflectAdapter.get(e,r,o)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new r(e)}append(e,t){const n=this.headers[e];"string"==typeof n?this.headers[e]=[n,t]:Array.isArray(n)?n.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){const t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(const[n,r]of this.entries())e.call(t,r,n,this)}*entries(){for(const e of Object.keys(this.headers)){const t=e.toLowerCase(),n=this.get(t);yield[t,n]}}*keys(){for(const e of Object.keys(this.headers)){const t=e.toLowerCase();yield t}}*values(){for(const e of Object.keys(this.headers)){const t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}}(Z),function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"headers",{enumerable:!0,get:function(){return l}});const t=Z,n=x,r=$,o=L,s=G,a=W,i=F,c=z,u=Y;function l(){const e=n.workAsyncStorage.getStore(),i=r.workUnitAsyncStorage.getStore();if(e){if(i&&"after"===i.phase&&!(0,u.isRequestAPICallableInsideAfter)())throw Object.defineProperty(new Error(`Route ${e.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(e.forceStatic){return f(t.HeadersAdapter.seal(new Headers({})))}if(i){if("cache"===i.type)throw Object.defineProperty(new Error(`Route ${e.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});if("unstable-cache"===i.type)throw Object.defineProperty(new Error(`Route ${e.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(e.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(i){if("prerender"===i.type)return function(e,t){const n=d.get(t);if(n)return n;const r=(0,a.makeHangingPromise)(t.renderSignal,"`headers()`");return d.set(t,r),Object.defineProperties(r,{append:{value:function(){const n=`\`headers().append(${p(arguments[0])}, ...)\``,r=g(e,n);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},delete:{value:function(){const n=`\`headers().delete(${p(arguments[0])})\``,r=g(e,n);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},get:{value:function(){const n=`\`headers().get(${p(arguments[0])})\``,r=g(e,n);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},has:{value:function(){const n=`\`headers().has(${p(arguments[0])})\``,r=g(e,n);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},set:{value:function(){const n=`\`headers().set(${p(arguments[0])}, ...)\``,r=g(e,n);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},getSetCookie:{value:function(){const n="`headers().getSetCookie()`",r=g(e,n);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},forEach:{value:function(){const n="`headers().forEach(...)`",r=g(e,n);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},keys:{value:function(){const n="`headers().keys()`",r=g(e,n);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},values:{value:function(){const n="`headers().values()`",r=g(e,n);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},entries:{value:function(){const n="`headers().entries()`",r=g(e,n);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}},[Symbol.iterator]:{value:function(){const n="`headers()[Symbol.iterator]()`",r=g(e,n);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}}}),r}(e.route,i);"prerender-ppr"===i.type?(0,o.postponeWithTracking)(e.route,"headers",i.dynamicTracking):"prerender-legacy"===i.type&&(0,o.throwToInterruptStaticGeneration)("headers",e,i)}(0,o.trackDynamicDataInDynamicRender)(e,i)}const l=(0,r.getExpectedRequestStore)("headers");return"development"!==process.env.NODE_ENV||(null==e?void 0:e.isPrefetchRequest)?f(l.headers):function(e,t){const n=d.get(e);if(n)return n;const r=new Promise(t=>(0,c.scheduleImmediate)(()=>t(e)));return d.set(e,r),Object.defineProperties(r,{append:{value:function(){const n=`\`headers().append(${p(arguments[0])}, ...)\``;return h(t,n),e.append.apply(e,arguments)}},delete:{value:function(){const n=`\`headers().delete(${p(arguments[0])})\``;return h(t,n),e.delete.apply(e,arguments)}},get:{value:function(){const n=`\`headers().get(${p(arguments[0])})\``;return h(t,n),e.get.apply(e,arguments)}},has:{value:function(){const n=`\`headers().has(${p(arguments[0])})\``;return h(t,n),e.has.apply(e,arguments)}},set:{value:function(){const n=`\`headers().set(${p(arguments[0])}, ...)\``;return h(t,n),e.set.apply(e,arguments)}},getSetCookie:{value:function(){return h(t,"`headers().getSetCookie()`"),e.getSetCookie.apply(e,arguments)}},forEach:{value:function(){return h(t,"`headers().forEach(...)`"),e.forEach.apply(e,arguments)}},keys:{value:function(){return h(t,"`headers().keys()`"),e.keys.apply(e,arguments)}},values:{value:function(){return h(t,"`headers().values()`"),e.values.apply(e,arguments)}},entries:{value:function(){return h(t,"`headers().entries()`"),e.entries.apply(e,arguments)}},[Symbol.iterator]:{value:function(){return h(t,"`...headers()` or similar iteration"),e[Symbol.iterator].apply(e,arguments)}}}),r}(l.headers,null==e?void 0:e.route)}const d=new WeakMap;function f(e){const t=d.get(e);if(t)return t;const n=Promise.resolve(e);return d.set(e,n),Object.defineProperties(n,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),n}function p(e){return"string"==typeof e?`'${e}'`:"..."}function h(e,t){const n=r.workUnitAsyncStorage.getStore();if(n&&"request"===n.type&&!0===n.prerenderPhase){const e=n;(0,o.trackSynchronousRequestDataAccessInDev)(e)}y(e,t)}const y=(0,i.createDedupedByCallsiteServerErrorLoggerDev)(g);function g(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})}}(Q);var ee={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"draftMode",{enumerable:!0,get:function(){return i}});const t=$,n=x,r=L,o=F,s=G,a=B;function i(){const e=n.workAsyncStorage.getStore(),r=t.workUnitAsyncStorage.getStore();switch(e&&r||(0,t.throwForMissingRequestStore)("draftMode"),r.type){case"request":return c(r.draftMode,e);case"cache":case"unstable-cache":const n=(0,t.getDraftModeProviderForCacheScope)(e,r);if(n)return c(n,e);case"prerender":case"prerender-ppr":case"prerender-legacy":if("development"!==process.env.NODE_ENV||(null==e?void 0:e.isPrefetchRequest))return l(null);return d(null,null==e?void 0:e.route);default:return r}}function c(e,t){const n=u.get(i);if(n)return n;let r;if("development"!==process.env.NODE_ENV||(null==t?void 0:t.isPrefetchRequest))r=l(e);else{r=d(e,null==t?void 0:t.route)}return u.set(e,r),r}const u=new WeakMap;function l(e){const t=new f(e),n=Promise.resolve(t);return Object.defineProperty(n,"isEnabled",{get:()=>t.isEnabled,set(e){Object.defineProperty(n,"isEnabled",{value:e,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0}),n.enable=t.enable.bind(t),n.disable=t.disable.bind(t),n}function d(e,t){const n=new f(e),r=Promise.resolve(n);return Object.defineProperty(r,"isEnabled",{get:()=>(p(t,"`draftMode().isEnabled`"),n.isEnabled),set(e){Object.defineProperty(r,"isEnabled",{value:e,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(r,"enable",{value:function(){return p(t,"`draftMode().enable()`"),n.enable.apply(n,arguments)}}),Object.defineProperty(r,"disable",{value:function(){return p(t,"`draftMode().disable()`"),n.disable.apply(n,arguments)}}),r}class f{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){y("draftMode().enable()"),null!==this._provider&&this._provider.enable()}disable(){y("draftMode().disable()"),null!==this._provider&&this._provider.disable()}}function p(e,n){const o=t.workUnitAsyncStorage.getStore();if(o&&"request"===o.type&&!0===o.prerenderPhase){const e=o;(0,r.trackSynchronousRequestDataAccessInDev)(e)}h(e,n)}const h=(0,o.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})});function y(e){const o=n.workAsyncStorage.getStore(),i=t.workUnitAsyncStorage.getStore();if(o){if(i){if("cache"===i.type)throw Object.defineProperty(new Error(`Route ${o.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E246",enumerable:!1,configurable:!0});if("unstable-cache"===i.type)throw Object.defineProperty(new Error(`Route ${o.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E259",enumerable:!1,configurable:!0});if("after"===i.phase)throw Object.defineProperty(new Error(`Route ${o.route} used "${e}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E348",enumerable:!1,configurable:!0})}if(o.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${o.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(i)if("prerender"===i.type){const t=Object.defineProperty(new Error(`Route ${o.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});(0,r.abortAndThrowOnSynchronousRequestDataAccess)(o.route,e,t,i)}else if("prerender-ppr"===i.type)(0,r.postponeWithTracking)(o.route,e,i.dynamicTracking);else{if("prerender-legacy"===i.type){i.revalidate=0;const t=Object.defineProperty(new a.DynamicServerError(`Route ${o.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw o.dynamicUsageDescription=e,o.dynamicUsageStack=t.stack,t}"development"===process.env.NODE_ENV&&i&&"request"===i.type&&(i.usedDynamic=!0)}}}}(ee);const te={profile:"profile"},ne={tokenStorage:{cookieOptions:{secure:!0,sameSite:"lax",path:"/"}},redirectOnUnauthorized:"/login",onAuthStateChange:()=>{}},re={user:null,token:{access_token:null,expires_at:null,token_type:null},isAuthenticated:!1,isLoading:!0,error:null},oe=(e,t)=>{switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload,isLoading:!1};case"SET_USER":return{...e,user:t.payload,isAuthenticated:!!t.payload,error:null};case"SET_TOKENS":return{...e,token:t.payload};case"SET_AUTHENTICATED":return{...e,isAuthenticated:t.payload};case"UPDATE_USER":return{...e,user:e.user?{...e.user,...t.payload}:null};case"CLEAR_AUTH":return{...re,isLoading:!1};default:return e}},se=t.createContext(void 0),ae=t.createContext({sidebarOpen:!0,setSidebarOpen:e=>{},sidebarExpanded:!0,setSidebarExpanded:e=>{}});exports.AppProvider=function({children:n}){const[r,o]=t.useState(!0),[s,a]=t.useState(!0);return e.jsx(ae.Provider,{value:{sidebarOpen:r,setSidebarOpen:o,sidebarExpanded:s,setSidebarExpanded:a},children:n})},exports.AuthContext=se,exports.AuthProvider=({children:n,config:r})=>{const[o,u]=t.useReducer(oe,re),l={...ne,...r??{}},d=t.useCallback(e=>{var t,n,r;t="token",n=e,a.setJSON(t,n,r),u({type:"SET_TOKENS",payload:e})},[]),p=t.useCallback(e=>{c(()=>{u({type:"CLEAR_AUTH"}),e?.()})},[]),h=t.useCallback(()=>{const e=(()=>{const e=i("token");return e?.access_token?e:null})();if(console.log("AuthProvider getToken",window.location.href,e),!e?.access_token){let e="";(()=>{if("undefined"!=typeof window){const e=window?.location?.hostname;if("production"===process.env.NODE_ENV?e?.includes("crezlo.site"):e?.includes("localhost")){const t=e?.split(".")?.[0];return`${t}.${process.env.NEXT_PUBLIC_WEBSITE_PREVIEW_DOMAIN_API}`}return e}return null})()!==s.APP_NAME.ACCOUNT&&(e=`?redirect_url=${window.location.href}`),window.location.href=s.APP_URL.ACCOUNT+"/login"+e}return e},[]);t.useEffect(()=>{f.client.addGlobalRequestInterceptor(async e=>{const t=h();return t?.access_token&&(e.headers={...e.headers,Authorization:`Bearer ${t?.access_token}`}),e}),f.client.addGlobalErrorInterceptor(async e=>{if(401===e.status)try{p(()=>{})}catch(e){console.error("Token refresh failed:",e),u({type:"SET_ERROR",payload:"Session expired. Please log in again."})}return e}),y()},[]);const y=t.useCallback(async()=>{u({type:"SET_LOADING",payload:!0}),u({type:"SET_ERROR",payload:null}),f.CORE.get(te.profile).then(e=>{const t=e?.user;u({type:"SET_USER",payload:t})}).catch(e=>{u({type:"SET_ERROR",payload:e.message||"Login failed"})}).finally(()=>{u({type:"SET_LOADING",payload:!1})})},[]);t.useCallback(()=>{u({type:"SET_ERROR",payload:null})},[]),t.useEffect(()=>{l.onAuthStateChange(o)},[o,l.onAuthStateChange]);const g={...o,getToken:h,updateToken:d,logout:p,refreshUser:y};return e.jsx(se.Provider,{value:g,children:n})},exports.useAppProvider=()=>t.useContext(ae),exports.useAuth=()=>t.useContext(se);
//# sourceMappingURL=index.js.map
